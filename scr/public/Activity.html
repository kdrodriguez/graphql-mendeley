<!DOCTYPE html>
<html lang="en">

<head>
  <title>GraphQL Mendeley API Activity</title>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="favicon.ico">
  <link
    href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
    rel='stylesheet' type='text/css'>
  <!-- FontAwesome JS -->
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"
    integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH"
    crossorigin="anonymous"></script>
  <!-- Global CSS -->
  <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
  <!-- Plugins CSS -->
  <link rel="stylesheet" href="assets/plugins/prism/prism.css">
  <link rel="stylesheet" href="assets/plugins/lightbox/dist/ekko-lightbox.css">
  <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">
  <!-- Theme CSS -->
  <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
  <link href="vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body class="body-pink">
  <div class="page-wrapper">
    <!-- ******Header****** -->
    <header id="header" class="header">
      <div class="container">
        <div class="branding">
          <h1 class="logo">
            <a href="index.html">
              <span aria-hidden="true" class="icon_documents_alt icon"></span>
              <span class="text-highlight">API-</span><span class="text-bold">ACTIVITY</span>
            </a>
          </h1>
        </div>
        <!--//branding-->

        <a href="http://localhost:4000">Inicio Dev</a> / <a href="http://localhost:4000">Inicio Prod</a> / Actividad

      </div>
      <!--//container-->
    </header>
    <!--//header-->
    <div class="doc-wrapper">
      <div class="container">

        <div class="doc-body row">
          <div class="doc-content col-md-9 col-12 order-1">
            <div class="content-inner">
              <section id="dashboards" class="doc-section">
                <h2 class="section-title">Actividad General</h2>
                <div class="section-block">
                  <p>La siguiente tabla muestra de forma general la información de como se ha usado la API GraphQL de
                    Mendeley.</p>

                  <div class="card shadow mb-4">
                    <div class="card-header py-3">
                      <h6 class="m-0 font-weight-bold text-primary">Bitacora ({{totalOperations}} registros) </h6>
                                       
                    </div>
                    <div class="card-body">
                      <div class="table-responsive">
                        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                          <thead>
                            <tr>
                              <th>Usuario</th>
                              <th>Tipo Recurso</th>
                              <th>Operación REST</th>
                              <th>Operación GraphQL</th>
                            </tr>
                          </thead>
                          <tfoot>
                            <tr>
                              <th>Usuario</th>
                              <th>Tipo Recurso</th>
                              <th>Operación REST</th>
                              <th>Operación GraphQL</th>
                            </tr>
                          </tfoot>
                          <tbody>
                            {% for item in activityData %}
                            <tr>
                              <td>{{item.display_name_user}}</td>
                              <td>{{item.type_resource}}</td>
                              <td>{{item.type_operation}}</td>
                              <td>{{item.graphql_operation}}</td>
                            </tr>
                            {% endfor %}
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>

                </div>
                <!--//section-block-->


              </section>
              <!--//doc-section-->

              <section id="app-components" class="doc-section">
                <h2 class="section-title">Detalles de uso</h2>
                <div id="projects" class="section-block">
                  <h3 class="block-title">¿Quién esta usando la API?</h3>
                  <p> La siguiente lista muestra los usuarios que han usado la API GraphQL Mendeley</p>

                  <div class="card shadow mb-4">
                    <div class="card-header py-3">
                      <h6 class="m-0 font-weight-bold text-primary">Usuarios ({{totalUsers}} registros)</h6>
                                       
                    </div>
                    <div class="card-body">
                      <div class="table-responsive">
                        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                          <thead>
                            <tr>
                              <th>Nombre</th>
                              <th>Email</th>
                            </tr>
                          </thead>
                          <tfoot>
                            <tr>
                              <th>Nombre</th>
                              <th>Email</th>
                            </tr>
                          </tfoot>
                          <tbody>
                            {% for item in userData %}
                            <tr>
                              <td>{{item.display_name_user}}</td>
                              <td>{{item.email}}</td>
                            </tr>
                            {% endfor %}
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                
                </div>
                <!--//section-block-->
                <div id="discussions" class="section-block">
                  <h3 class="block-title">Recursos</h3>
                  <p> La API envuelve cuatro recursos principales de Mendeley: Documentos, Carpetas, Archivos y Grupos; sin embargo existe otro tipo de recursos que se usan y mencionan</p>
                  <div class="row" style="display: flex; justify-content: center;">
                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Documento</div>
                              <div class="text-xs font-weight-bold text-primary mb-1">document</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                <div id="NumQuery">{{rec_doc}}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Documentos de carpeta</div>
                              <div class="text-xs font-weight-bold text-primary mb-1">documents-folder</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_doc_fol}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">TTipos de documento</div>
                              <div class="text-xs font-weight-bold text-primary mb-1">document_types</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_doc_typ}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Identificadores de documento</div>
                              <div class="text-xs font-weight-bold text-primary mb-1">document_identifiers</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_doc_ide}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Carpeta</div>
                              <div class="text-xs font-weight-bold text-success mb-1">folder</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_fol}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Agragar documento a carpeta</div>
                              <div class="text-xs font-weight-bold text-success text-uppercase mb-1">add_folder_docs</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_fol_add_doc}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Remover documento de carpeta</div>
                              <div class="text-xs font-weight-bold text-success mb-1">rem_folder_docs</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_fol_rem_doc}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-info shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Archivo</div>
                              <div class="text-xs font-weight-bold text-info mb-1">file</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_fil}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-danger shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">Grupo</div>
                              <div class="text-xs font-weight-bold text-danger mb-1">group</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_gro}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-warning shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Perfil</div>
                              <div class="text-xs font-weight-bold text-warning mb-1">profile</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{rec_pro}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  <!--//row-->

                </div>
                <!--//section-block-->

                <div id="members" class="section-block">
                  <h3 class="block-title">Operaciones REST</h3>
                  <p>Detalle de las operaciones que provienen de la API REST de Mendeley; estas operaciones son usadas para generar operaciones GraphQL.</p>

                  <div class="row" style="display: flex; justify-content: center;">
                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Operaciones GET</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                <div id="NumQuery">{{restGet}}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Operaciones POST</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{restPost}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-warning shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Operaciones PATCH</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{restPatch}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-danger shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">Operaciones DELETE</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                {{restDelete}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  <!--//row-->
                
                </div>
                <!--//section-block-->

                <div id="account" class="section-block">
                  <h3 class="block-title">Operaciones GraphQL</h3>
                  <p>Total de registros de uso de las operaciones GraphQL de consulta(Query) y mutación(Mutation).</p>

                  <div class="row" style="display: flex; justify-content: center;">
                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Query</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                <div id="NumQuery">{{gqlQueries}}</div> operaciones
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Mutations</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                <div id="NumMut">{{gqlMutations}}</div> operaciones
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  <!--//row-->

                  <!--row Pocentaje-->
                  <div class="row">
                    <div class="col-xl-6 col-md-6 mb-4" style=" margin-left: auto; margin-right: auto;">
                      <!--Porcentajes-->
                      <div class="card shadow mb-4">
                        <!-- Card Header - Dropdown -->
                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                          <h6 class="m-0 font-weight-bold text-primary">Porcentaje de operaciones</h6>
                        </div>
                        <!-- Card Body -->
                        <div class="card-body">
                          <div class="chart-pie pt-4 pb-2">
                            <canvas id="myPieChart"></canvas>
                          </div>
                          <div class="mt-4 text-center small">
                            <span class="mr-2">
                              <i class="fas fa-circle text-primary"></i> QUERIES
                            </span>
                            <span class="mr-2">
                              <i class="fas fa-circle text-success"></i> MUTATIONS
                            </span>
                          </div>
                        </div>
                        <!-- Fin Card Body -->
                      </div>
                      <!--Fin porcentajes-->
                    </div>

                  </div>
                  <!--//row Porcentaje-->

                </div>
                <!--//section-block-->

                <div id="others" class="section-block">
                  <h3 class="block-title">Cronología de uso</h3>
                  <p>Detalle de uso por mes de la API durante el año en curso</p>
                  
                  <!--tabla-->
                  <div class="card shadow mb-4">
                      <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Número de llamadas a la API por mes del año actual</h6>                     
                      </div>
                      <div class="card-body">
                        <div class="table-responsive">
                          <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                            <thead>
                              <tr>
                                {% for item in Activitymonths %}
                                <th>{{item.mes}}</th>
                                {% endfor %}
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                {% for item in Activitymonths %}
                                <td id={{item.mes}}>{{item.count}}</td>
                                {% endfor %}
                              </tr>
                           
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                     <!--tabla-->   
                    
                    <!--areaChart-->
                    <div class="card shadow mb-4">
                      <!-- Card Header - Dropdown -->
                      <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-primary">Gráfica de uso</h6>
                      </div>
                      <!-- Card Body -->
                      <div class="card-body">
                        <div class="chart-area">
                          <canvas id="myAreaChart"></canvas>
                        </div>
                      </div>
                    </div>
                    <!--//areaChart-->
                </div>
                <!--//section-block-->

              </section>
              <!--//doc-section-->

            </div>
            <!--//content-inner-->
          </div>
          <!--//doc-content-->
          <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
            <div id="doc-nav" class="doc-nav">
              <nav id="doc-menu" class="nav doc-menu flex-column sticky">
                <a class="nav-link scrollto" href="#dashboards">Actividad General</a>
                <a class="nav-link scrollto" href="#app-components">Detalles de uso</a>
                <nav class="doc-sub-menu nav flex-column">
                  <a class="nav-link scrollto" href="#projects">¿Quién esta usando la API?</a>
                  <a class="nav-link scrollto" href="#discussions">Recursos</a>
                  <a class="nav-link scrollto" href="#members">Operaciones REST</a>
                  <a class="nav-link scrollto" href="#account">Operaciones GraphQL</a>
                  <a class="nav-link scrollto" href="#others">Cronología de uso</a>
                </nav>
                <!--//nav-->
              </nav>
              <!--//doc-menu-->
            </div>
            <!--//doc-nav-->
          </div>
          <!--//doc-sidebar-->
        </div>
        <!--//doc-body-->
      </div>
      <!--//container-->
    </div>
    <!--//doc-wrapper-->

  </div>
  <!--//page-wrapper-->

  <footer id="footer" class="footer text-center">
    <div class="container">
      <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can buy the commercial license via our website: themes.3rdwavemedia.com */-->
      <small class="copyright">Copyright © UTN-CISIC GraphQL's Project 2019 (Original: Designed with <i class="fa fa-heart"></i> by <a href="https://themes.3rdwavemedia.com/"
          target="_blank">Xiaoying Riley</a> for developers)modified</small>
    </div>
    <!--//container-->
  </footer>
  <!--//footer-->

  <!-- Main Javascript -->
  <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>
  <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
  <script type="text/javascript" src="assets/plugins/lightbox/dist/ekko-lightbox.min.js"></script>
  <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>

  <script src="vendor/datatables/jquery.dataTables.min.js"></script>
  <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

  <script type="text/javascript" src="assets/js/main.js"></script>

  <script src="vendor/chart.js/Chart.min.js"></script>

  <script src="js/demo/datatables-demo.js"></script>
  <script src="js/demo/chart-area-demo.js"></script>
  <script src="js/demo/chart-pie-demo.js"></script>

</body>
</html>